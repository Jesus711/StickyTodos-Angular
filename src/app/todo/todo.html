<div class="{{ note_info().color }} w-[315px] h-[275px] inline-flex flex-col rounded-sm p-3 pb-1.5 pr-2 sticky-text relative gap-1">
  <button (click)="toggleEditMenu()" class="absolute right-1 top-1.5 hover:cursor-pointer flex flex-col justify-center items-center gap-0.5 w-6 h-8 rounded-full"><div class="w-1.5 h-1.5 rounded-full bg-gray-700"></div><div class="w-1.5 h-1.5 rounded-full bg-gray-700"></div><div class="w-1.5 h-1.5 rounded-full bg-gray-700"></div></button>
  <div [ngClass]="showEditMenu ? 'w-[100px] h-[90px]' : 'w-0 h-0'"  class="absolute bg-slate-800/50 text-black right-0 top-10 px-1 flex flex-col justify-center items-start gap-y-1 rounded-lg overflow-hidden transition-all duration-300">
    <button (click)="toggleEditForm()" class="flex justify-center items-center gap-1  bg-yellow-400 px-1 py-1 rounded-md w-full cursor-pointer">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil-icon lucide-pencil"><path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"/><path d="m15 5 4 4"/></svg>
      Edit
    </button>
    <button (click)="deleteNote()" class="flex justify-center items-center gap-2  bg-red-400 px-1 py-1 rounded-md w-full cursor-pointer">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash2-icon lucide-trash-2"><path d="M10 11v6"/><path d="M14 11v6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><path d="M3 6h18"/><path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
      Del
    </button>
  </div>
  <h2 class="max-w-[90%] font-semibold text-xl overflow-hidden text-ellipsis">{{ note_info().title }}</h2>
  <p class="flex-1 wrap-break-word">{{ note_info().description }}</p>
  @if (note_info().completed) {
    <div class="flex justify-between">
      <p class="flex justify-end items-center gap-1 font-bold rounded-md">Completed <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-icon lucide-check"><path d="M20 6 9 17l-5-5"/></svg></p>
      <button (click)="updateCompleteStatus()" class="self-end px-2 flex justify-end items-center text-right font-semibold opacity-90 hover:opacity-100 hover:cursor-pointer hover:bg-gray-900/70 hover:text-white rounded-md">Undo?</button>
    </div>
  }
  @else {
    <button (click)="updateCompleteStatus()" class="self-end px-2 flex justify-end items-center text-right font-semibold opacity-90 hover:opacity-100 hover:cursor-pointer hover:bg-gray-900/70 hover:text-white rounded-md">Mark as Completed</button>
  }
</div>
@if(showEditForm){
    <div class="fixed top-0 left-0 z-10 min-h-screen flex w-full justify-center items-center bg-gray-900/50">
      <app-edit-todo [note]="note_info()" (closeModal)="toggleEditForm()"></app-edit-todo>
    </div> 
}